<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Amazing Brain Journey - Self Assessment</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&family=Comic+Neue:wght@400;700&display=swap');
        
        body { 
            font-family: 'Fredoka', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .floating {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .bounce-in {
            animation: bounceIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        @keyframes bounceIn {
            0% { transform: scale(0); }
            100% { transform: scale(1); }
        }
        
        .shimmer {
            background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        .rainbow-text {
            background: linear-gradient(to right, #ff0080, #ff8c00, #ffd700, #00ff00, #00bfff, #4b0082, #ff0080);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: rainbow 3s ease-in-out infinite;
        }
        
        @keyframes rainbow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .star-burst {
            position: absolute;
            animation: burst 0.5s ease-out forwards;
        }
        
        @keyframes burst {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            100% { transform: scale(2) rotate(180deg); opacity: 0; }
        }
        
        .progress-star {
            transition: all 0.3s ease;
        }
        
        .progress-star.filled {
            transform: scale(1.2) rotate(360deg);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useRef, useEffect } = React;

        // Define emojis for each section
        const SECTION_EMOJIS = {
            'emotional': '√∞≈∏‚Äô‚Äì',
            'confidence': '√¢≈ì¬®',
            'friendship': '√∞≈∏¬§¬ù',
            'sensory': '√∞≈∏≈íÀÜ',
            'motivation': '√∞≈∏≈°‚Ç¨',
            'overthinking': '√∞≈∏≈í¬™√Ø¬∏¬è',
            'executive': '√∞≈∏¬ß¬©',
            'learning': '√∞≈∏‚Äú≈°'
        };

        // Define the sections and questions
        const SECTIONS = [
            {
                id: 'emotional',
                title: 'Emotional Awareness',
                emoji: '√∞≈∏‚Äô‚Äì',
                color: 'from-pink-400 to-red-400',
                questions: [
                    "I can usually tell what I'm feeling inside.",
                    "Sometimes my feelings get big fast and I don't know why.",
                    "I can explain my feelings to someone if they ask.",
                    "When I'm upset, I know what helps me feel better.",
                    "I get overwhelmed by feelings I don't expect.",
                    "I feel emotions stronger than most kids I know."
                ]
            },
            {
                id: 'confidence',
                title: 'Self-Confidence & Identity',
                emoji: '√¢≈ì¬®',
                color: 'from-yellow-400 to-orange-400',
                questions: [
                    "I feel confident doing things I'm good at.",
                    "Sometimes I pretend to be less smart or less silly to fit in.",
                    "I feel proud of who I am as a person.",
                    "I worry what other people think of me.",
                    "I feel different from most kids √¢‚Ç¨‚Äù in a good way.",
                    "When something is hard, I believe I can learn it eventually."
                ]
            },
            {
                id: 'friendship',
                title: 'Friendship & Social Safety',
                emoji: '√∞≈∏¬§¬ù',
                color: 'from-green-400 to-teal-400',
                questions: [
                    "I can tell when someone is safe to be around.",
                    "I get nervous meeting new kids.",
                    "I like friends who are gentle and kind.",
                    "Loud or bossy kids make me uncomfortable.",
                    "I sometimes worry people will laugh at me.",
                    "I have at least one person who makes me feel totally myself."
                ]
            },
            {
                id: 'sensory',
                title: 'Sensory Reactions',
                emoji: '√∞≈∏≈íÀÜ',
                color: 'from-purple-400 to-indigo-400',
                questions: [
                    "Loud noises bother me a lot.",
                    "Bright lights or busy places make me uncomfortable.",
                    "I don't like certain textures in clothes.",
                    "I get overwhelmed if too much is happening at once.",
                    "I need quiet time to calm my brain.",
                    "Strong smells (like perfume or cleaners) bother me."
                ]
            },
            {
                id: 'motivation',
                title: 'Motivation Patterns',
                emoji: '√∞≈∏≈°‚Ç¨',
                color: 'from-blue-400 to-cyan-400',
                questions: [
                    "I get excited when I'm working on something I love.",
                    "If something doesn't make sense to me, I don't want to do it.",
                    "I need a reason for things √¢‚Ç¨‚Äù not just 'because.'",
                    "I try really hard when I care about something.",
                    "It's hard to start tasks that feel boring.",
                    "Praise or rewards make me want to keep going."
                ]
            },
            {
                id: 'overthinking',
                title: 'Overthinking & Stress Patterns',
                emoji: '√∞≈∏≈í¬™√Ø¬∏¬è',
                color: 'from-gray-400 to-slate-400',
                questions: [
                    "I think a lot about 'what if' things.",
                    "I get stuck worrying even when I don't want to.",
                    "I freeze when I don't know what to do next.",
                    "I get frustrated with myself easily.",
                    "I replay things in my head after they happen.",
                    "I avoid things that feel too hard or scary."
                ]
            },
            {
                id: 'executive',
                title: 'Executive Function & Focus',
                emoji: '√∞≈∏¬ß¬©',
                color: 'from-emerald-400 to-green-400',
                questions: [
                    "I forget things even when I try not to.",
                    "It's hard to switch tasks when my brain is focused.",
                    "I lose things like pencils, shoes, or homework.",
                    "I get distracted even when I want to pay attention.",
                    "I need help staying organized.",
                    "I have trouble finishing things I start."
                ]
            },
            {
                id: 'learning',
                title: 'Learning Style',
                emoji: '√∞≈∏‚Äú≈°',
                color: 'from-rose-400 to-pink-400',
                questions: [
                    "I learn best when I can see pictures or diagrams.",
                    "I learn best by doing things, not just talking.",
                    "I like learning alone (not in big groups).",
                    "I learn better when things are explained clearly.",
                    "I need examples before I understand assignments.",
                    "I learn better in quiet places than noisy ones."
                ]
            }
        ];

        const SCALE = [
            { value: 0, label: 'Not like me', emoji: '√∞≈∏Àú¬ê', color: 'bg-gray-200' },
            { value: 1, label: 'A little like me', emoji: '√∞≈∏¬§‚Äù', color: 'bg-yellow-200' },
            { value: 2, label: 'Mostly like me', emoji: '√∞≈∏Àú≈†', color: 'bg-blue-200' },
            { value: 3, label: 'Exactly like me', emoji: '√∞≈∏≈í≈∏', color: 'bg-green-200' }
        ];

        // Star component for visual effects
        function StarBurst({ x, y }) {
            return (
                <div 
                    className="star-burst text-yellow-400 text-2xl"
                    style={{ left: x, top: y }}
                >
                    √¢¬≠¬ê
                </div>
            );
        }

        // Main App Component
        function ChildAssessmentApp() {
            const [currentSectionIndex, setCurrentSectionIndex] = useState(0);
            const [answers, setAnswers] = useState({});
            const [showResults, setShowResults] = useState(false);
            const [stars, setStars] = useState([]);
            const [showIntro, setShowIntro] = useState(true);

            const currentSection = SECTIONS[currentSectionIndex];

            useEffect(() => {
                // Clear stars after animation
                const timer = setTimeout(() => setStars([]), 500);
                return () => clearTimeout(timer);
            }, [stars]);

            const getQuestionId = (sectionIndex, questionIndex) => 
                `${SECTIONS[sectionIndex].id}-${questionIndex}`;

            const handleOptionSelect = (sectionIndex, questionIndex, value, event) => {
                const rect = event.target.getBoundingClientRect();
                const newStar = {
                    id: Date.now(),
                    x: rect.left + rect.width / 2 - 12,
                    y: rect.top + rect.height / 2 - 12
                };
                setStars([...stars, newStar]);

                setAnswers(prev => ({
                    ...prev,
                    [getQuestionId(sectionIndex, questionIndex)]: value
                }));
            };

            const isSectionComplete = (sectionIndex) => {
                return SECTIONS[sectionIndex].questions.every((_, qIdx) => 
                    answers[getQuestionId(sectionIndex, qIdx)] !== undefined
                );
            };

            const calculateSectionScore = (sectionIndex) => {
                const section = SECTIONS[sectionIndex];
                let score = 0;
                let maxScore = section.questions.length * 3;

                section.questions.forEach((_, qIdx) => {
                    const val = answers[getQuestionId(sectionIndex, qIdx)];
                    if (val !== undefined) score += val;
                });

                return {
                    score,
                    maxScore,
                    percentage: Math.round((score / maxScore) * 100)
                };
            };

            const handleNext = () => {
                if (currentSectionIndex < SECTIONS.length - 1) {
                    setCurrentSectionIndex(prev => prev + 1);
                } else {
                    setShowResults(true);
                }
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            const generateReport = () => {
                let report = "CHILD SELF-ASSESSMENT REPORT\n";
                report += "============================\n\n";
                
                SECTIONS.forEach((section, idx) => {
                    const stats = calculateSectionScore(idx);
                    report += `${section.emoji} ${section.title}\n`;
                    report += `Score: ${stats.score} / ${stats.maxScore} (${stats.percentage}%)\n`;
                    report += `Intensity: ${stats.percentage > 66 ? 'High' : stats.percentage > 33 ? 'Moderate' : 'Low'}\n\n`;
                });

                report += "RAW DATA (JSON Format):\n";
                report += JSON.stringify(answers);
                
                return report;
            };

            // Intro Screen
            if (showIntro) {
                return (
                    <div className="min-h-screen flex items-center justify-center p-8">
                        <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-2xl w-full bounce-in">
                            <div className="text-center">
                                <h1 className="text-5xl font-bold mb-4 rainbow-text">
                                    My Amazing Brain Journey!
                                </h1>
                                <div className="text-6xl mb-6 floating">√∞≈∏¬ß¬†√¢≈ì¬®</div>
                                <p className="text-xl text-gray-700 mb-8">
                                    Hi there! This is a fun quiz about YOU and how your amazing brain works. 
                                    There are no right or wrong answers - just pick what feels true for you!
                                </p>
                                <button
                                    onClick={() => setShowIntro(false)}
                                    className="bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xl px-8 py-4 rounded-full font-bold transform hover:scale-110 transition-all duration-300 shadow-lg"
                                >
                                    Let's Start! √∞≈∏≈°‚Ç¨
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            // Results Screen
            if (showResults) {
                return (
                    <div className="min-h-screen p-8">
                        <div className="max-w-4xl mx-auto">
                            <div className="bg-white rounded-3xl shadow-2xl p-8 mb-8">
                                <h1 className="text-4xl font-bold text-center mb-2 rainbow-text">
                                    You Did It! √∞≈∏≈Ω‚Ä∞
                                </h1>
                                <p className="text-center text-gray-600 mb-8">
                                    Here's your amazing brain map!
                                </p>

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                                    {SECTIONS.map((section, idx) => {
                                        const stats = calculateSectionScore(idx);
                                        const intensity = stats.percentage > 66 ? 'High' : 
                                                        stats.percentage > 33 ? 'Moderate' : 'Low';
                                        
                                        return (
                                            <div 
                                                key={section.id} 
                                                className={`rounded-2xl p-6 bg-gradient-to-br ${section.color} text-white`}
                                            >
                                                <div className="flex items-center justify-between mb-3">
                                                    <h3 className="text-xl font-bold flex items-center">
                                                        <span className="text-3xl mr-2">{section.emoji}</span>
                                                        {section.title}
                                                    </h3>
                                                    <span className="text-2xl font-bold">
                                                        {stats.percentage}%
                                                    </span>
                                                </div>
                                                
                                                <div className="bg-white bg-opacity-30 rounded-full h-6 overflow-hidden">
                                                    <div 
                                                        className="h-full bg-white transition-all duration-1000 shimmer"
                                                        style={{ width: `${stats.percentage}%` }}
                                                    />
                                                </div>
                                                
                                                <p className="mt-3 text-sm font-medium">
                                                    Intensity: {intensity}
                                                </p>
                                            </div>
                                        );
                                    })}
                                </div>

                                <div className="bg-gradient-to-r from-purple-100 to-pink-100 rounded-2xl p-6 mb-6">
                                    <h3 className="text-xl font-bold text-purple-800 mb-3">
                                        √∞≈∏≈í≈∏ What This Means
                                    </h3>
                                    <p className="text-gray-700">
                                        Your brain is unique and special! These results show how you experience 
                                        the world differently. Remember, there's no "perfect" score - this just 
                                        helps grown-ups understand how to help you learn and grow best!
                                    </p>
                                </div>

                                <div className="text-center">
                                    <button
                                        onClick={() => {
                                            const report = generateReport();
                                            navigator.clipboard.writeText(report);
                                            alert('Results copied! Share them with a grown-up who can help! √∞≈∏‚Äú‚Äπ');
                                        }}
                                        className="bg-gradient-to-r from-green-400 to-blue-500 text-white px-8 py-3 rounded-full font-bold transform hover:scale-110 transition-all"
                                    >
                                        Copy My Results √∞≈∏‚Äú‚Äπ
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            // Question Screen
            return (
                <>
                    {/* Navigation */}
                    <div className="fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-purple-600 to-pink-600 shadow-lg">
                        <nav className="max-w-6xl mx-auto px-4 py-3 flex justify-between items-center">
                            <a href="index.html" className="text-white font-bold text-xl flex items-center">
                                <span className="mr-2">üöÄ</span>
                                MISSION CONTROL
                            </a>
                            <div className="hidden md:flex space-x-4">
                                <a href="index.html" className="text-white hover:text-yellow-300 transition">HOME</a>
                                <a href="gifted-assessment-tool.html" className="text-white hover:text-yellow-300 transition">PARENT ASSESSMENT</a>
                                <a href="child-self-assessment.html" className="text-white hover:text-yellow-300 transition font-bold">CHILD ASSESSMENT</a>
                                <a href="mission-control-preview.html" className="text-white hover:text-yellow-300 transition">PREVIEW PACKET</a>
                            </div>
                        </nav>
                    </div>
                    
                    <div className="min-h-screen p-4 md:p-8 pt-20">
                    {stars.map(star => (
                        <StarBurst key={star.id} x={star.x} y={star.y} />
                    ))}
                    
                    <div className="max-w-3xl mx-auto">
                        {/* Progress Stars */}
                        <div className="flex justify-center mb-6 space-x-2">
                            {SECTIONS.map((section, idx) => (
                                <div
                                    key={section.id}
                                    className={`text-2xl transition-all duration-300 progress-star ${
                                        idx < currentSectionIndex ? 'filled' : ''
                                    }`}
                                    title={section.title}
                                >
                                    {idx < currentSectionIndex ? '√¢¬≠¬ê' : 
                                     idx === currentSectionIndex ? section.emoji : '√¢‚Äî‚Äπ'}
                                </div>
                            ))}
                        </div>

                        {/* Main Card */}
                        <div className="bg-white rounded-3xl shadow-2xl overflow-hidden">
                            {/* Section Header */}
                            <div className={`bg-gradient-to-r ${currentSection.color} p-6 text-white`}>
                                <div className="flex items-center justify-between">
                                    <h2 className="text-2xl font-bold flex items-center">
                                        <span className="text-4xl mr-3">{currentSection.emoji}</span>
                                        {currentSection.title}
                                    </h2>
                                    <span className="text-lg">
                                        {currentSectionIndex + 1} / {SECTIONS.length}
                                    </span>
                                </div>
                            </div>

                            {/* Questions */}
                            <div className="p-6 md:p-8 space-y-8">
                                {currentSection.questions.map((question, qIdx) => {
                                    const questionId = getQuestionId(currentSectionIndex, qIdx);
                                    const currentValue = answers[questionId];

                                    return (
                                        <div key={qIdx} className="space-y-4">
                                            <p className="text-lg font-medium text-gray-800">
                                                {qIdx + 1}. {question}
                                            </p>

                                            <div className="grid grid-cols-2 md:grid-cols-4 gap-3">
                                                {SCALE.map((option) => (
                                                    <button
                                                        key={option.value}
                                                        onClick={(e) => handleOptionSelect(
                                                            currentSectionIndex, qIdx, option.value, e
                                                        )}
                                                        className={`
                                                            p-4 rounded-2xl border-3 transition-all duration-300
                                                            transform hover:scale-105
                                                            ${currentValue === option.value
                                                                ? `${option.color} border-gray-400 scale-105 shadow-lg`
                                                                : 'bg-gray-50 border-gray-200 hover:border-gray-300'
                                                            }
                                                        `}
                                                    >
                                                        <div className="text-3xl mb-1">{option.emoji}</div>
                                                        <div className="text-xs font-medium">{option.label}</div>
                                                    </button>
                                                ))}
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>

                            {/* Navigation */}
                            <div className="bg-gray-50 p-6 flex justify-between items-center">
                                <button
                                    onClick={() => setCurrentSectionIndex(Math.max(0, currentSectionIndex - 1))}
                                    disabled={currentSectionIndex === 0}
                                    className={`
                                        px-6 py-3 rounded-full font-bold transition-all
                                        ${currentSectionIndex === 0
                                            ? 'bg-gray-300 text-gray-500 cursor-not-allowed'
                                            : 'bg-gray-400 text-white hover:bg-gray-500'
                                        }
                                    `}
                                >
                                    √¢‚Ä†¬ê Back
                                </button>

                                <button
                                    onClick={handleNext}
                                    disabled={!isSectionComplete(currentSectionIndex)}
                                    className={`
                                        px-8 py-3 rounded-full font-bold transition-all transform
                                        ${isSectionComplete(currentSectionIndex)
                                            ? 'bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:scale-110 shadow-lg'
                                            : 'bg-gray-300 text-gray-500 cursor-not-allowed'
                                        }
                                    `}
                                >
                                    {currentSectionIndex === SECTIONS.length - 1 ? 'Finish! √∞≈∏≈Ω‚Ä∞' : 'Next √¢‚Ä†‚Äô'}
                                </button>
                            </div>
                        </div>

                        {/* Encouragement */}
                        <div className="text-center mt-6">
                            <p className="text-white text-lg font-medium">
                                {isSectionComplete(currentSectionIndex) 
                                    ? "Great job! You answered all the questions! √∞≈∏≈í≈∏"
                                    : "Take your time and pick what feels right √∞≈∏‚Äô¬´"}
                            </p>
                        </div>
                    </div>
                </div>
                </>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<ChildAssessmentApp />);
    </script>
</body>
</html>
