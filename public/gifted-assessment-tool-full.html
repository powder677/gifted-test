<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Gifted Child Assessment Tool - Parent Report | Navigator Kids AI™</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Lato:wght@400;700&display=swap');

        :root {
            --color-primary: #1B365D;
            --color-primary-dark: #132845;
            --color-secondary: #FFFFFF;
            --color-accent: #E9C46A;
            --color-accent-light: #F4D78A;
            --color-highlight: #2A9D8F;
            --color-highlight-dark: #238579;
            --color-highlight-light: #E8F4F2;
            --color-text: #2F2F2F;
            --color-text-muted: #666666;
            --color-background: #F4F6F8;
            --color-background-warm: #FFFBF5;
            --border-radius: 8px;
            --border-radius-lg: 12px;
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.06);
            --shadow-md: 0 4px 16px rgba(0,0,0,0.08);
            --shadow-lg: 0 8px 32px rgba(0,0,0,0.12);
            --transition: all 0.2s ease;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body { 
            font-family: 'Lato', sans-serif; 
            background: var(--color-background);
            color: var(--color-text);
        }

        .font-header { font-family: 'Inter', sans-serif; font-weight: 800; }

        /* Custom utility classes */
        .bg-navy { background-color: var(--color-primary); }
        .bg-teal { background-color: var(--color-highlight); }
        .bg-gold { background-color: var(--color-accent); }
        .bg-teal-light { background-color: var(--color-highlight-light); }
        .bg-warm { background-color: var(--color-background-warm); }
        
        .text-navy { color: var(--color-primary); }
        .text-teal { color: var(--color-highlight); }
        .text-gold { color: var(--color-accent); }
        
        .border-teal { border-color: var(--color-highlight); }
        .border-gold { border-color: var(--color-accent); }
        .border-teal-light { border-color: var(--color-highlight-light); }

        /* Navigation Styles */
        .navbar {
            background-color: #FFFFFF;
            border-bottom: 1px solid rgba(27, 54, 93, 0.08);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow-sm);
        }

        .navbar-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        }

        .logo a {
            font-family: 'Inter', sans-serif;
            font-size: 1.25rem;
            font-weight: 800;
            color: var(--color-primary);
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
        }

        .logo i { color: var(--color-highlight); font-size: 1.4rem; }
        .logo span { color: var(--color-highlight); }

        .desktop-nav .nav-links {
            list-style: none;
            display: flex;
            gap: 32px;
            align-items: center;
            margin: 0;
        }

        .desktop-nav .nav-links a {
            color: var(--color-text);
            font-weight: 600;
            font-size: 0.95rem;
            transition: var(--transition);
            position: relative;
            text-decoration: none;
        }

        .desktop-nav .nav-links a:not(.nav-btn-primary):hover { color: var(--color-highlight); }

        .nav-btn-primary {
            background-color: var(--color-highlight);
            color: white !important;
            padding: 10px 20px;
            border-radius: 6px;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .nav-btn-primary:hover {
            background-color: var(--color-highlight-dark);
            transform: translateY(-1px);
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--color-primary);
            padding: 8px;
        }

        .mobile-nav {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background: white;
            flex-direction: column;
            box-shadow: var(--shadow-lg);
            border-top: 1px solid #eee;
        }

        .mobile-nav.active { display: flex; }

        .mobile-nav a {
            padding: 16px 24px;
            border-bottom: 1px solid #f0f0f0;
            font-weight: 600;
            transition: var(--transition);
            text-decoration: none;
            color: var(--color-text);
        }

        @media (max-width: 900px) {
            .desktop-nav { display: none; }
            .menu-toggle { display: block; }
        }

        /* Footer Styles */
        .footer {
            background-color: #0f1f33;
            color: white;
            padding: 80px 24px 40px;
        }

        .footer__grid {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: 48px;
            max-width: 1200px;
            margin: 0 auto 48px;
        }

        .footer__brand h4 {
            color: var(--color-accent);
            margin-bottom: 16px;
            font-size: 1.1rem;
            font-family: 'Inter', sans-serif;
        }

        .footer__brand p {
            opacity: 0.75;
            line-height: 1.7;
            font-size: 0.95rem;
        }

        .footer__links h4 {
            color: var(--color-accent);
            margin-bottom: 16px;
            font-size: 1rem;
            font-family: 'Inter', sans-serif;
        }

        .footer__links ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .footer__links li { margin-bottom: 12px; }

        .footer__links a {
            color: rgba(255, 255, 255, 0.75);
            font-size: 0.95rem;
            transition: var(--transition);
            text-decoration: none;
        }

        .footer__links a:hover { color: var(--color-accent); }

        .footer__bottom {
            padding-top: 32px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            font-size: 0.85rem;
            opacity: 0.6;
            max-width: 1200px;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    
    <header class="navbar">
        <div class="navbar-container">
            <div class="logo">
                <a href="index.html">
                    <i class="fas fa-compass"></i>
                    Navigator <span>Kids AI</span>
                </a>
            </div>
            <nav class="desktop-nav">
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="gifted-assessment-tool.html">AI Assessment</a></li>
                    <li><a href="resources.html">Resources</a></li>
                    <li><a href="emergency-reset-kit-sales-page.html" class="nav-btn-primary">Get Reset Kit</a></li>
                </ul>
            </nav>
            <button class="menu-toggle" onclick="toggleMenu()" aria-label="Toggle menu">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        <nav class="mobile-nav" id="mobileMenu">
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="gifted-assessment-tool.html">AI Assessment</a>
            <a href="resources.html">Resources</a>
            <a href="emergency-reset-kit-sales-page.html">Get Reset Kit</a>
        </nav>
    </header>

    <div id="root"></div> 

    <footer class="footer">
        <div class="footer__grid">
            <div class="footer__brand">
                <h4>Navigator Kids AI™</h4>
                <p>Your child's brain didn't come with a manual. Until now. We provide AI-powered tools and science-backed strategies for raising exceptional children.</p>
            </div>
            <div class="footer__links">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="gifted-assessment-tool.html">AI Assessment</a></li>
                    <li><a href="emergency-reset-kit-sales-page.html">Emergency Reset Kit</a></li>
                </ul>
            </div>
            <div class="footer__links">
                <h4>Legal</h4>
                <ul>
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms of Service</a></li>
                    <li><a href="#">Contact Us</a></li>
                </ul>
            </div>
        </div>
        <div class="footer__bottom">
            <p>&copy; 2025 Navigator Kids AI™. All rights reserved.</p>
        </div>
    </footer>

    <script>
        function toggleMenu() {
            const menu = document.getElementById('mobileMenu');
            const toggle = document.querySelector('.menu-toggle i');
            menu.classList.toggle('active');
            
            if (menu.classList.contains('active')) {
                toggle.classList.remove('fa-bars');
                toggle.classList.add('fa-times');
            } else {
                toggle.classList.remove('fa-times');
                toggle.classList.add('fa-bars');
            }
        }

        document.addEventListener('click', function(e) {
            const menu = document.getElementById('mobileMenu');
            const toggle = document.querySelector('.menu-toggle');
            
            if (menu && toggle && !menu.contains(e.target) && !toggle.contains(e.target) && menu.classList.contains('active')) {
                menu.classList.remove('active');
                const icon = toggle.querySelector('i');
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            }
        });
    </script>

    <script type="text/babel">
        const { useState, useRef } = React;

        const IconWrapper = ({ children, className, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} {...props}>{children}</svg>
        );

        const ClipboardCopy = (props) => (
            <IconWrapper {...props}><rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/></IconWrapper>
        );
        const ChevronRight = (props) => (
            <IconWrapper {...props}><path d="m9 18 6-6-6-6"/></IconWrapper>
        );
        const ChevronLeft = (props) => (
            <IconWrapper {...props}><path d="m15 18-6-6 6-6"/></IconWrapper>
        );
        const RotateCcw = (props) => (
            <IconWrapper {...props}><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></IconWrapper>
        );
        const CheckCircle = (props) => (
            <IconWrapper {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="m9 11 3 3L22 4"/></IconWrapper>
        );
        const BarChart3 = (props) => (
            <IconWrapper {...props}><path d="M3 3v18h18"/><path d="M18 17V9"/><path d="M13 17V5"/><path d="M8 17v-3"/></IconWrapper>
        );
        const AlertCircle = (props) => (
            <IconWrapper {...props}><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></IconWrapper>
        );
        const Microchip = (props) => (
            <IconWrapper {...props}><rect width="12" height="12" x="6" y="6" rx="2"/><path d="M2 12h4"/><path d="M18 12h4"/><path d="M12 2v4"/><path d="M12 18v4"/><path d="M6 6 4 4"/><path d="M18 6l2-2"/><path d="M6 18l-2 2"/><path d="M18 18l2 2"/></IconWrapper>
        );

        const SECTIONS = [
          {
            id: 'ef',
            title: 'Section 1: Executive Function (EF)',
            description: 'Assesses inhibition, working memory, task initiation, and planning.',
            questions: [
              "My child interrupts conversations, lessons, or directions before others finish speaking.",
              "My child reacts emotionally (anger, tears, frustration) faster than expected for their age.",
              "My child speaks or acts before thinking through consequences.",
              "My child forgets multi-step instructions unless they are repeated.",
              "My child needs frequent reminders to stay on track with a task.",
              "My child leaves tasks unfinished because they forget what they were doing.",
              "My child delays starting tasks even when they understand what to do.",
              "My child has difficulty shifting from a preferred activity to a required task.",
              "My child waits until the last minute to start homework or chores.",
              "My child struggles to decide where to start when given multiple tasks.",
              "My child has a messy workspace and loses needed materials.",
              "My child underestimates how long tasks will take.",
              "My child becomes upset when plans change unexpectedly.",
              "My child has difficulty trying a different strategy if the first one doesn't work.",
              "My child insists on doing things 'their way' even when a simpler method exists."
            ]
          },
          {
            id: 'sensory',
            title: 'Section 2: Sensory Regulation',
            description: 'Assesses overstimulation and sensory seeking/avoiding behaviors.',
            questions: [
              "My child becomes overwhelmed by loud noises, smells, textures, or visual clutter.",
              "Small sensory interruptions (tapping, humming, movement) derail their focus.",
              "My child avoids certain clothing, foods, or environments due to sensory discomfort.",
              "My child needs movement breaks to stay regulated while working.",
              "My child describes sensory experiences as 'too much,' 'too loud,' or 'too tight.'",
              "My child gets overstimulated in busy environments and needs time to decompress.",
              "My child covers ears, hides, or withdraws when overstimulated."
            ]
          },
          {
            id: 'emotional',
            title: 'Section 3: Emotional Interpretation & Regulation',
            description: 'Assesses emotional resilience and rejection sensitivity.',
            questions: [
              "My child interprets correction as criticism or personal failure.",
              "My child becomes upset if they cannot do something perfectly on the first try.",
              "My child shuts down or refuses to continue when frustrated.",
              "My child struggles to name or describe their feelings in the moment.",
              "My child takes things personally even when no offense is intended.",
              "My child gets stuck in negative thoughts after making a mistake.",
              "My child avoids tasks that previously caused emotional discomfort."
            ]
          },
          {
            id: 'motivation',
            title: 'Section 4: Motivation Architecture',
            description: 'Assesses what drives engagement versus disengagement.',
            questions: [
              "My child works more effectively when allowed to choose the order/method of tasks.",
              "My child prefers easy tasks they can win rather than challenging tasks they might fail.",
              "My child gives up quickly when something is difficult.",
              "My child needs to understand the 'why' behind an assignment before engaging.",
              "My child becomes highly motivated when tasks connect to their passions.",
              "My child resists work that feels pointless or repetitive.",
              "My child becomes absorbed in topics they love and loses track of time."
            ]
          },
          {
            id: 'avoidance',
            title: 'Section 5: Task Avoidance / Cognitive Friction',
            description: 'Assesses specific anxiety or overwhelm related to work.',
            questions: [
              "My child freezes or goes blank when a task feels too big or confusing.",
              "My child becomes angry, silly, or chaotic when overwhelmed by schoolwork.",
              "My child avoids tasks that require long periods of attention.",
              "My child struggles to restart a task after taking a break.",
              "My child 'checks out' mentally when stressed or overstimulated.",
              "My child gets stuck thinking about doing the task instead of actually starting."
            ]
          },
          {
            id: 'selfconcept',
            title: 'Section 6: Self-Concept, Confidence & Identity',
            description: 'Assesses internal narrative and self-esteem.',
            questions: [
              "My child worries they are 'not good enough' even when their performance is excellent.",
              "My child compares themselves to others frequently.",
              "My child has trouble celebrating success because they focus on what went wrong.",
              "My child avoids trying new things to protect their self-esteem."
            ]
          },
          {
            id: 'learning',
            title: 'Section 7: Learning Style & Cognitive Preferences',
            description: 'Identifies preferred modalities for input.',
            questions: [
              "My child learns best by touching, moving, or physically interacting with materials.",
              "My child learns best when information is visual (charts, drawings, videos).",
              "My child learns best when information is spoken or discussed.",
              "My child gets bored with slow-paced teaching or rigid instruction."
            ]
          }
        ];

        const SCALE = [
          { value: 0, label: 'Never' },
          { value: 1, label: 'Rarely' },
          { value: 2, label: 'Sometimes' },
          { value: 3, label: 'Often' },
          { value: 4, label: 'Almost Always' }
        ];

        function GiftedAssessmentApp() {
          const [currentSectionIndex, setCurrentSectionIndex] = useState(-1); // Starts at -1 for email capture
          const [answers, setAnswers] = useState({});
          const [showResults, setShowResults] = useState(false);
          const [copied, setCopied] = useState(false);
          const [email, setEmail] = useState("");
          const topRef = useRef(null);

          const getQuestionId = (sectionIndex, questionIndex) => `${sectionIndex}-${questionIndex}`;

          const handleOptionSelect = (sectionIndex, questionIndex, value) => {
            setAnswers(prev => ({
              ...prev,
              [getQuestionId(sectionIndex, questionIndex)]: value
            }));
          };

          const calculateSectionScore = (sectionIndex) => {
            const section = SECTIONS[sectionIndex];
            let score = 0;
            let maxScore = section.questions.length * 4;
            let answeredCount = 0;

            section.questions.forEach((_, qIndex) => {
              const val = answers[getQuestionId(sectionIndex, qIndex)];
              if (val !== undefined) {
                score += val;
                answeredCount++;
              }
            });

            return { score, maxScore, percentage: maxScore > 0 ? Math.round((score / maxScore) * 100) : 0, answeredCount, totalQuestions: section.questions.length };
          };

          const isSectionComplete = (sectionIndex) => {
            if (sectionIndex === -1) return email.includes('@');
            const section = SECTIONS[sectionIndex];
            return section.questions.every((_, qIdx) => answers[getQuestionId(sectionIndex, qIdx)] !== undefined);
          };

          const handleNext = () => {
            if (currentSectionIndex < SECTIONS.length - 1) {
              setCurrentSectionIndex(prev => prev + 1);
              window.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
              setShowResults(true);
              window.scrollTo({ top: 0, behavior: 'smooth' });
            }
          };

          const handlePrev = () => {
            if (currentSectionIndex > 0) {
              setCurrentSectionIndex(prev => prev - 1);
              window.scrollTo({ top: 0, behavior: 'smooth' });
            }
          };

          const generateReport = () => {
            let report = "NAVIGATOR KIDS AI™ - GIFTED CHILD PARENT ASSESSMENT REPORT\n";
            report += "================================================================\n\n";
            report += `Parent Email: ${email}\n\n`;
            
            SECTIONS.forEach((section, idx) => {
              const stats = calculateSectionScore(idx);
              report += `${section.title}\n`;
              report += `Score: ${stats.score} / ${stats.maxScore} (${stats.percentage}%)\n`;
              
              let intensity = "Low";
              if (stats.percentage > 75) intensity = "Very High";
              else if (stats.percentage > 50) intensity = "High";
              else if (stats.percentage > 25) intensity = "Moderate";
              
              report += `Intensity/Frequency: ${intensity}\n\n`;
            });

            report += "RAW DATA (JSON Format for AI Analysis):\n";
            report += JSON.stringify({ email, answers });
            
            return report;
          };

          const copyToClipboard = () => {
            const report = generateReport();
            navigator.clipboard.writeText(report);
            setCopied(true);
            setTimeout(() => setCopied(false), 2000);
          };

          // VIEW: EMAIL CAPTURE
          if (currentSectionIndex === -1) {
              return (
                <div className="min-h-screen p-8 flex items-center justify-center">
                    <div className="bg-white p-10 rounded-2xl shadow-xl max-w-md w-full text-center border-2 border-teal-light">
                        <div className="w-20 h-20 bg-teal-light rounded-full flex items-center justify-center mx-auto mb-6">
                            <i className="fas fa-envelope-open-text text-teal text-3xl"></i>
                        </div>
                        <h1 className="text-3xl font-bold text-navy mb-4 font-header">Parent Assessment</h1>
                        <p className="text-gray-600 mb-8 leading-relaxed">Enter your account email to link this report with your child's profile and save your progress.</p>
                        
                        <div className="text-left mb-6">
                            <label className="block text-sm font-bold text-navy mb-2 ml-1">Account Email</label>
                            <input 
                                type="email" 
                                value={email}
                                onChange={(e) => setEmail(e.target.value)}
                                placeholder="yourname@email.com"
                                className="w-full p-4 border-2 border-slate-200 rounded-xl outline-none focus:border-teal transition-all shadow-sm"
                                required
                            />
                        </div>

                        <button 
                            onClick={() => setCurrentSectionIndex(0)}
                            disabled={!email.includes('@')}
                            className={`w-full py-4 rounded-xl font-bold text-white transition-all transform active:scale-95 ${email.includes('@') ? 'bg-teal shadow-lg hover:shadow-xl hover:-translate-y-1' : 'bg-gray-300 cursor-not-allowed'}`}
                        >
                            Start Assessment <i className="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
              );
          }

          // VIEW: RESULTS
          if (showResults) {
            return (
              <div className="min-h-screen p-4 md:p-8 font-sans" style={{ backgroundColor: '#F4F6F8', color: '#2F2F2F' }}>
                <div className="max-w-3xl mx-auto bg-white shadow-xl rounded-2xl overflow-hidden" style={{ border: '1px solid #E8F4F2' }}>
                  <div className="p-6 text-white text-center" style={{ backgroundColor: '#1B365D' }}>
                    <div className="w-12 h-12 mx-auto mb-4 p-2 rounded-full flex items-center justify-center" style={{ backgroundColor: '#E9C46A' }}>
                      <BarChart3 className="w-8 h-8" />
                    </div>
                    <h1 className="text-3xl font-bold mb-2 font-header">Assessment Results</h1>
                    <p className="opacity-90">Analysis for: {email}</p>
                  </div>

                  <div className="p-6 md:p-8 space-y-8">
                    {SECTIONS.map((section, idx) => {
                      const stats = calculateSectionScore(idx);
                      const isHigh = stats.percentage >= 60;
                      
                      return (
                        <div key={section.id} className="border-b pb-6 last:border-0" style={{ borderColor: '#E8F4F2' }}>
                          <div className="flex justify-between items-end mb-2">
                            <h3 className="text-lg font-bold" style={{ color: '#1B365D' }}>{section.title}</h3>
                            <span className="font-mono font-bold" style={{ color: isHigh ? '#E9C46A' : '#2A9D8F' }}>
                              {stats.score}/{stats.maxScore}
                            </span>
                          </div>
                          
                          <div className="w-full rounded-full h-3 mb-2" style={{ backgroundColor: '#E8F4F2' }}>
                            <div 
                              className="h-3 rounded-full transition-all duration-500"
                              style={{ 
                                width: `${stats.percentage}%`, 
                                backgroundColor: stats.percentage > 60 ? '#E9C46A' : '#2A9D8F' 
                              }}
                            ></div>
                          </div>
                          <p className="text-sm" style={{ color: '#666666' }}>{section.description}</p>
                        </div>
                      );
                    })}

                    <div className="p-6 rounded-xl mt-8" style={{ backgroundColor: '#E8F4F2' }}>
                      <h3 className="font-bold mb-3 flex items-center" style={{ color: '#2A9D8F' }}>
                        <AlertCircle className="w-5 h-5 mr-2" />
                        Next Steps
                      </h3>
                      <p className="text-sm mb-4" style={{ color: '#666666' }}>
                        These results are ready to be analyzed by your AI coaching system. 
                        Click below to copy the structured data report.
                      </p>
                      
                      <button
                        onClick={copyToClipboard}
                        className="w-full py-3 px-4 text-white rounded-lg font-medium flex items-center justify-center transition-all shadow-md hover:shadow-lg transform hover:-translate-y-1"
                        style={{ backgroundColor: '#2A9D8F' }}
                      >
                        {copied ? (
                          <>
                            <CheckCircle className="w-5 h-5 mr-2" />
                            Copied to Clipboard!
                          </>
                        ) : (
                          <>
                            <ClipboardCopy className="w-5 h-5 mr-2" />
                            Copy Report for AI Coach
                          </>
                        )}
                      </button>
                    </div>

                    <button 
                      onClick={() => {
                        setShowResults(false);
                        setCurrentSectionIndex(-1);
                        setAnswers({});
                        window.scrollTo(0,0);
                      }}
                      className="w-full py-3 flex items-center justify-center transition-colors"
                      style={{ color: '#666666' }}
                    >
                      <RotateCcw className="w-4 h-4 mr-2" />
                      Start Over
                    </button>
                  </div>
                </div>
              </div>
            );
          }

          // VIEW: QUESTIONNAIRE
          const currentSection = SECTIONS[currentSectionIndex];
          return (
              <div className="min-h-screen p-4 md:p-8 font-sans" ref={topRef} style={{ backgroundColor: '#F4F6F8', color: '#2F2F2F' }}>
              <div className="max-w-3xl mx-auto">
                
                <div className="mb-8 text-center">
                  <div className="inline-flex items-center justify-center w-16 h-16 rounded-full mb-4" style={{ backgroundColor: '#E8F4F2' }}>
                    <Microchip className="w-8 h-8" style={{ color: '#2A9D8F' }} />
                  </div>
                  <h1 className="text-2xl md:text-3xl font-bold font-header" style={{ color: '#1B365D' }}>Parent Assessment Tool</h1>
                  <p style={{ color: '#666666' }}>Executive Function, Sensory, & Emotional Interpretation</p>
                </div>

                <div className="mb-6 flex justify-between text-xs font-semibold uppercase tracking-wider" style={{ color: '#666666' }}>
                  <span>Section {currentSectionIndex + 1} of {SECTIONS.length}</span>
                  <span>{Math.round(((currentSectionIndex) / SECTIONS.length) * 100)}% Complete</span>
                </div>
                <div className="w-full rounded-full h-2 mb-8" style={{ backgroundColor: '#E8F4F2' }}>
                  <div 
                    className="h-2 rounded-full transition-all duration-300" 
                    style={{ width: `${((currentSectionIndex) / SECTIONS.length) * 100}%`, backgroundColor: '#2A9D8F' }}
                  ></div>
                </div>

                <div className="bg-white shadow-lg rounded-2xl overflow-hidden mb-8" style={{ border: '1px solid #E8F4F2' }}>
                  <div className="p-6 border-b" style={{ backgroundColor: '#E8F4F2', borderColor: '#E8F4F2' }}>
                    <h2 className="text-xl font-bold font-header" style={{ color: '#2A9D8F' }}>{currentSection.title}</h2>
                    <p className="text-sm" style={{ color: '#2F2F2F' }}>{currentSection.description}</p>
                  </div>

                  <div className="p-6 md:p-8 space-y-8">
                    {currentSection.questions.map((q, qIdx) => {
                      const questionId = getQuestionId(currentSectionIndex, qIdx);
                      const currentValue = answers[questionId];

                      return (
                        <div key={qIdx} className="space-y-3">
                          <p className="font-medium text-lg leading-relaxed" style={{ color: '#2F2F2F' }}>{q}</p>
                          
                          <div className="grid grid-cols-5 gap-2 md:gap-4 pt-2">
                            {SCALE.map((s) => (
                              <button
                                key={s.value}
                                onClick={() => handleOptionSelect(currentSectionIndex, qIdx, s.value)}
                                className="flex flex-col items-center justify-center p-2 rounded-xl transition-all duration-200 border-2 transform hover:scale-105"
                                style={{ 
                                  borderColor: currentValue === s.value ? '#E9C46A' : '#e2e8f0',
                                  backgroundColor: currentValue === s.value ? '#FFFBF5' : '#F4F6F8',
                                }}
                              >
                                <span className="text-xl font-bold mb-1" style={{ color: currentValue === s.value ? '#2A9D8F' : '#cbd5e1' }}>
                                  {s.value}
                                </span>
                                <span className="text-[10px] uppercase font-bold tracking-wider hidden md:block" style={{ color: currentValue === s.value ? '#1B365D' : '#94a3b8' }}>
                                  {s.label}
                                </span>
                              </button>
                            ))}
                          </div>
                          <div className="flex justify-between md:hidden text-xs px-1" style={{ color: '#94a3b8' }}>
                            <span>Never</span>
                            <span>Always</span>
                          </div>
                        </div>
                      );
                    })}
                  </div>

                  <div className="p-6 border-t flex justify-between items-center" style={{ backgroundColor: '#FFFBF5', borderColor: '#E8F4F2' }}>
                    <button
                      onClick={handlePrev}
                      className="flex items-center px-4 py-2 rounded-lg font-medium transition-colors"
                      style={{ 
                        backgroundColor: '#F4F6F8',
                        color: '#2F2F2F',
                        cursor: 'pointer'
                      }}
                    >
                      <ChevronLeft className="w-5 h-5 mr-1" />
                      Back
                    </button>

                    <button
                      onClick={handleNext}
                      disabled={!isSectionComplete(currentSectionIndex)}
                      className="flex items-center px-6 py-3 rounded-lg font-bold shadow-lg transition-all transform"
                      style={{ 
                        backgroundColor: isSectionComplete(currentSectionIndex) ? '#2A9D8F' : '#e2e8f0', 
                        color: isSectionComplete(currentSectionIndex) ? 'white' : '#94a3b8',
                        cursor: isSectionComplete(currentSectionIndex) ? 'pointer' : 'not-allowed'
                      }}
                    >
                      {currentSectionIndex === SECTIONS.length - 1 ? 'Finish Assessment' : 'Next Section'}
                      <ChevronRight className="w-5 h-5 ml-1" />
                    </button>
                  </div>
                </div>

              </div>
            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<GiftedAssessmentApp />);
    </script>
</body>
</html>
